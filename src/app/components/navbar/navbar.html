<nav 
  [class]="scrolled 
    ? 'fixed top-0 left-0 right-0 z-50 navbar bg-black px-4 md:px-6 py-2 flex justify-between items-center border-b-4 border-[#fffe03] shadow-[0_0_15px_#fffe03] transition-all duration-300' 
    : 'sticky top-6 z-50 navbar bg-black px-4 md:px-6 py-2 flex justify-between items-center rounded-lg m-3 md:m-5 border-4 border-[#fffe03] shadow-[0_0_15px_#fffe03] transition-all duration-300'">
  <div class="navbar-logo flex items-center gap-3">
    <a routerLink="/" routerLinkActive="active" class="flex items-center">
      <img [class]="scrolled ? 'h-10 md:h-12 hover:scale-105 transition-all duration-300' : 'h-12 md:h-16 hover:scale-105 transition-all duration-300'" src="images/logo.jpg">
    </a>
  </div>

  <!-- Bouton Hamburger Mobile -->
  <button (click)="toggleMenu()" class="md:hidden text-[#fffe03] focus:outline-none z-50">
    @if (!menuOpen) {
      <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"/>
      </svg>
    } @else {
      <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/>
      </svg>
    }
  </button>

  <!-- Menu Desktop -->
  <ul class="navbar-links hidden md:flex gap-10 text-[#fffe03] font-metal text-2xl uppercase tracking-[0.15em]">    
     <li class="relative group">
      <button class="transition duration-300 hover:text-gray-400 hover:underline underline-offset-4 decoration-[#fffe03] flex items-center gap-2">
        Le Groupe
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="transition-transform group-hover:rotate-180">
          <polyline points="6 9 12 15 18 9"></polyline>
        </svg>
      </button>
      
      <div class="absolute top-full left-0 mt-2 w-56 bg-zinc-900 border-2 border-[#fffe03] rounded-lg shadow-[0_0_15px_#fffe03] opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300">
        <a routerLink="/groupe/histoire" 
           class="block px-6 py-3 text-lg hover:bg-[#fffe03] hover:text-black transition-all duration-200 first:rounded-t-lg">
          Notre histoire
        </a>
        <a routerLink="/groupe/membres" 
           class="block px-6 py-3 text-lg hover:bg-[#fffe03] hover:text-black transition-all duration-200 last:rounded-b-lg border-t border-gray-700">
          Les membres
        </a>
      </div>
    </li>
    <li>
      <a routerLink="/concert" routerLinkActive="active"
         class="transition duration-300 hover:text-gray-400 hover:underline underline-offset-4 decoration-[#fffe03]">
        Concerts
      </a>
    </li>
     <li>
      <a routerLink="/galerie" routerLinkActive="active"
         class="transition duration-300 hover:text-gray-400 hover:underline underline-offset-4 decoration-[#fffe03]">
        Galerie
      </a>
    </li>
    <li>
      <a routerLink="/contact" routerLinkActive="active"
         class="transition duration-300 hover:text-gray-400 hover:underline underline-offset-4 decoration-[#fffe03]">
        Contact
      </a>
    </li>
  </ul>
</nav>

<!-- Menu Mobile Overlay -->
@if (menuOpen) {
  <div class="fixed inset-0 bg-black/95 z-40 flex flex-col items-center justify-center md:hidden">
    <ul class="flex flex-col items-center gap-8 text-[#fffe03] text-2xl uppercase tracking-widest">
      <li>
        <a routerLink="/groupe/histoire" (click)="closeMenu()" class="hover:text-white transition duration-300">Notre histoire</a>
      </li>
      <li>
        <a routerLink="/groupe/membres" (click)="closeMenu()" class="hover:text-white transition duration-300">Les membres</a>
      </li>
      <li>
        <a routerLink="/concert" (click)="closeMenu()" class="hover:text-white transition duration-300">Concerts</a>
      </li>
      <li>
        <a routerLink="/galerie" (click)="closeMenu()" class="hover:text-white transition duration-300">Galerie</a>
      </li>
      <li>
        <a routerLink="/contact" (click)="closeMenu()" class="hover:text-white transition duration-300">Contact</a>
      </li>
    </ul>
  </div>
}
